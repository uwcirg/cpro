<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DHAIR2: DataExportComponent Class Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
    <li>
      <form action="../../search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>DataExportComponent Class Reference</h1><!-- doxytag: class="DataExportComponent" -->
<p>
<a href="../../d8/de8/classDataExportComponent-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#521dbecd88f161d25c62d3a5853cebc0">startup</a> (Controller $controller)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#c0cffbb74a69c4069cee8c0213c64569">data_file</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#c4707c03e5e1336ed11d725445305c42">scores_file</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#62ea2cfe8a17b6f80bc476a9301cdb89">intervention_dose_file</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#ae3b44ad86ac49846896b66172e04312">log_file</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#89abc644822f91d1545af22bcd4a812e">codings_file</a> ($type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8ac08e6e489be0c6e2a13a37b60df948"></a><!-- doxytag: member="DataExportComponent::sort_by_mtime" ref="8ac08e6e489be0c6e2a13a37b60df948" args="($file1, $file2)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>sort_by_mtime</b> ($file1, $file2)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c394deb78b42c0f48e03ad76053f895a"></a><!-- doxytag: member="DataExportComponent::options_file" ref="c394deb78b42c0f48e03ad76053f895a" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>options_file</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5806be8675d2fd3533e450c97dcdb4bd"></a><!-- doxytag: member="DataExportComponent::questions_file" ref="5806be8675d2fd3533e450c97dcdb4bd" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>questions_file</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#fc24809f17834ebc5dba464edbbfccb7">_header_row</a> ($questions, $numSessionsPerPatientRow)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#751ca80d5ebcc207084393938b0d2434">_scores_header_row</a> ($subscales, $items)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="240922f5d55d724da1f5be8f3f0f2c1f"></a><!-- doxytag: member="DataExportComponent::_patient_data_row_all_multisession" ref="240922f5d55d724da1f5be8f3f0f2c1f" args="($patient, $questions)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_patient_data_row_all_multisession</b> ($patient, $questions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1f858f4a53cda716dbb315af2a3245b9"></a><!-- doxytag: member="DataExportComponent::_patient_data_row_per_session" ref="1f858f4a53cda716dbb315af2a3245b9" args="($patient, $questions)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_patient_data_row_per_session</b> ($patient, $questions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#27321c5546a70fb4347d34e8f9fa7cff">_patient_scores_row</a> ($subscales, $items, $patient)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1bd1b7d03487dd3eaffb10f4ef573229"></a><!-- doxytag: member="DataExportComponent::_patient_fields_header" ref="1bd1b7d03487dd3eaffb10f4ef573229" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_patient_fields_header</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a19dc7739256f39c75cbcd69aeb93ca5"></a><!-- doxytag: member="DataExportComponent::_patient_fields" ref="a19dc7739256f39c75cbcd69aeb93ca5" args="($patient)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_patient_fields</b> ($patient)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#55d05cc8190f9c74eab3394ffeb7ee27">_patient_sessions_answers</a> ($patient, $questions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#90733a4e8c8b07bedfb749b011950bc2">_patient_sessions_scores</a> ($subscales, $items, $patient)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#4659b3fc5341bd372f2f745d678771f1">_patient_survey_sessions</a> (&amp;$patient)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#a96ef2b0aa709c0e2e46387a6e331f58">getFirstAnswerTsForSession</a> ($session, $order= 'ASC')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#78997f4d7091371b6611530444e5b2d2">_patient_session_answers</a> (&amp;$questions, &amp;$session, $sessionLabel)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d4d/classDataExportComponent.html#debe21dac8e8d905b71ab57baefe36f9">_patient_session_scores</a> (&amp;$subscales, $items, &amp;$session, $sessionLabel)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e4b64eca4e5d86a03283c9d528986f26"></a><!-- doxytag: member="DataExportComponent::_get_options" ref="e4b64eca4e5d86a03283c9d528986f26" args="($questions)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_get_options</b> ($questions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="514c37a550867b21b555fb04487167ff"></a><!-- doxytag: member="DataExportComponent::_get_patients" ref="514c37a550867b21b555fb04487167ff" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_get_patients</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3079d7dc38f58cfd422946f30cb2dd7e"></a><!-- doxytag: member="DataExportComponent::_get_patients_for_coding" ref="3079d7dc38f58cfd422946f30cb2dd7e" args="($patient_filter, $contain=null)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_get_patients_for_coding</b> ($patient_filter, $contain=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="802d9d30675b6a70e80294eab504bbf6"></a><!-- doxytag: member="DataExportComponent::_get_questions" ref="802d9d30675b6a70e80294eab504bbf6" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_get_questions</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3f72be809f620870852d228be482e9d5"></a><!-- doxytag: member="DataExportComponent::formatReportArray" ref="3f72be809f620870852d228be482e9d5" args="($shown)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>formatReportArray</b> ($shown)</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="48f9f893b84bbcb87e7d1293c3b7031d"></a><!-- doxytag: member="DataExportComponent::SELECTED_CHECK" ref="48f9f893b84bbcb87e7d1293c3b7031d" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>SELECTED_CHECK</b> = 1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d84bf24c566df81363748ffb1a71aa44"></a><!-- doxytag: member="DataExportComponent::UNSELECTED_CHECK" ref="d84bf24c566df81363748ffb1a71aa44" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>UNSELECTED_CHECK</b> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ec6ca5895b5f5cdfe0176350d9e5db82"></a><!-- doxytag: member="DataExportComponent::SKIPPED" ref="ec6ca5895b5f5cdfe0176350d9e5db82" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>SKIPPED</b> = -9</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2211386852e779b38c92b8750d961b58"></a><!-- doxytag: member="DataExportComponent::NO_SESSION" ref="2211386852e779b38c92b8750d961b58" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>NO_SESSION</b> = -99</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3784b968bd8a1fb55315723a2c3358c3"></a><!-- doxytag: member="DataExportComponent::NO_ANSWERS_IN_SESSION" ref="3784b968bd8a1fb55315723a2c3358c3" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>NO_ANSWERS_IN_SESSION</b> = -999</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3a345c3fe6865db6b16c4fa196d808f2"></a><!-- doxytag: member="DataExportComponent::NUM_NONT_SESSIONS_TO_REPORT" ref="3a345c3fe6865db6b16c4fa196d808f2" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>NUM_NONT_SESSIONS_TO_REPORT</b> = 10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="023665ec535fe43d6d4ae284638f2966"></a><!-- doxytag: member="DataExportComponent::NONT_LABEL_PREFIX" ref="023665ec535fe43d6d4ae284638f2966" args="" -->
const&nbsp;</td><td class="memItemRight" valign="bottom"><b>NONT_LABEL_PREFIX</b> = 'nonT_'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="221e18ba8f3e13838afb99b3ddcd195a"></a><!-- doxytag: member="DataExportComponent::$options" ref="221e18ba8f3e13838afb99b3ddcd195a" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$options</b> = array()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="230cfcc1ef733b1d9dfa9c81bc3b994f"></a><!-- doxytag: member="DataExportComponent::$reportTable" ref="230cfcc1ef733b1d9dfa9c81bc3b994f" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$reportTable</b> = array()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ab1517c3069347b7301597e9c540d3da"></a><!-- doxytag: member="DataExportComponent::$patient_fields" ref="ab1517c3069347b7301597e9c540d3da" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$patient_fields</b> = array()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9bd1944c2b5ea4b6a49e0cc2a0fbaa8d"></a><!-- doxytag: member="DataExportComponent::$labelInstanceID" ref="9bd1944c2b5ea4b6a49e0cc2a0fbaa8d" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$labelInstanceID</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Copyright 2013 University of Washington, School of Nursing. <a href="http://opensource.org/licenses/BSD-3-Clause">http://opensource.org/licenses/BSD-3-Clause</a> <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="521dbecd88f161d25c62d3a5853cebc0"></a><!-- doxytag: member="DataExportComponent::startup" ref="521dbecd88f161d25c62d3a5853cebc0" args="(Controller $controller)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::startup           </td>
          <td>(</td>
          <td class="paramtype">Controller $&nbsp;</td>
          <td class="paramname"> <em>controller</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called after controller beforeFilter and before action handler 
</div>
</div><p>
<a class="anchor" name="c0cffbb74a69c4069cee8c0213c64569"></a><!-- doxytag: member="DataExportComponent::data_file" ref="c0cffbb74a69c4069cee8c0213c64569" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::data_file           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
data_file: create a new csv file with the data export and return the path to access it <dl class="return" compact><dt><b>Returns:</b></dt><dd>$path: to the csv file </dd></dl>

</div>
</div><p>
<a class="anchor" name="c4707c03e5e1336ed11d725445305c42"></a><!-- doxytag: member="DataExportComponent::scores_file" ref="c4707c03e5e1336ed11d725445305c42" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::scores_file           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
scores_file: create a new csv file with the scores export and return the path to access it <dl class="return" compact><dt><b>Returns:</b></dt><dd>$path: to the csv file </dd></dl>

</div>
</div><p>
<a class="anchor" name="62ea2cfe8a17b6f80bc476a9301cdb89"></a><!-- doxytag: member="DataExportComponent::intervention_dose_file" ref="62ea2cfe8a17b6f80bc476a9301cdb89" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::intervention_dose_file           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
create a new csv file for reporting intervention dose <dl class="return" compact><dt><b>Returns:</b></dt><dd>$path: to the csv file </dd></dl>

</div>
</div><p>
<a class="anchor" name="ae3b44ad86ac49846896b66172e04312"></a><!-- doxytag: member="DataExportComponent::log_file" ref="ae3b44ad86ac49846896b66172e04312" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::log_file           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
reports a timestamp for each visit for each visit to [controller]/index columns: <a class="el" href="../../d2/de8/classPatient.html">Patient</a> ID, timestamp 
</div>
</div><p>
<a class="anchor" name="89abc644822f91d1545af22bcd4a812e"></a><!-- doxytag: member="DataExportComponent::codings_file" ref="89abc644822f91d1545af22bcd4a812e" args="($type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::codings_file           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
create a new csv file with the audio or chart codings export and return the path to access it <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$type</em>&nbsp;</td><td>either 'AudioFile' or 'Chart' </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>$path: to the csv file </dd></dl>

</div>
</div><p>
<a class="anchor" name="fc24809f17834ebc5dba464edbbfccb7"></a><!-- doxytag: member="DataExportComponent::_header_row" ref="fc24809f17834ebc5dba464edbbfccb7" args="($questions, $numSessionsPerPatientRow)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::_header_row           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>questions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>numSessionsPerPatientRow</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
$this-&gt;log( "sessionLabels: " . sizeof($sessionLabels) . "; num_headers_per_session " . $this-&gt;num_headers_per_session . "; demographics_size: " . $demographics_size, LOG_DEBUG); 
</div>
</div><p>
<a class="anchor" name="751ca80d5ebcc207084393938b0d2434"></a><!-- doxytag: member="DataExportComponent::_scores_header_row" ref="751ca80d5ebcc207084393938b0d2434" args="($subscales, $items)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::_scores_header_row           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>subscales</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>items</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
$this-&gt;log( "type_array: " . sizeof($type_array) . "; num_headers_per_session " . $this-&gt;num_headers_per_session . "; demographics_size: " . $demographics_size, LOG_DEBUG); 
</div>
</div><p>
<a class="anchor" name="27321c5546a70fb4347d34e8f9fa7cff"></a><!-- doxytag: member="DataExportComponent::_patient_scores_row" ref="27321c5546a70fb4347d34e8f9fa7cff" args="($subscales, $items, $patient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::_patient_scores_row           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>subscales</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>patient</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
TODO delete this junk 
</div>
</div><p>
<a class="anchor" name="55d05cc8190f9c74eab3394ffeb7ee27"></a><!-- doxytag: member="DataExportComponent::_patient_sessions_answers" ref="55d05cc8190f9c74eab3394ffeb7ee27" args="($patient, $questions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::_patient_sessions_answers           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>patient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>questions</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
for a patient and set of questions, return array of answers 
</div>
</div><p>
<a class="anchor" name="90733a4e8c8b07bedfb749b011950bc2"></a><!-- doxytag: member="DataExportComponent::_patient_sessions_scores" ref="90733a4e8c8b07bedfb749b011950bc2" args="($subscales, $items, $patient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::_patient_sessions_scores           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>subscales</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>patient</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
TODO delete this junk <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$patient</em>&nbsp;</td><td>array with SurveySessions </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$type_array</em>&nbsp;</td><td>array of T types to include, eg ('T1') || ('T1', 'T2', 'T3', 'T4'); can be empty array </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$includeNonTs</em>&nbsp;</td><td>bool return array of scores for T-time sessions, ordered by session first: T's per $type_array order, then nonT's if $includeNonTs (these ordered by session ID) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4659b3fc5341bd372f2f745d678771f1"></a><!-- doxytag: member="DataExportComponent::_patient_survey_sessions" ref="4659b3fc5341bd372f2f745d678771f1" args="(&amp;$patient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::_patient_survey_sessions           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>patient</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$patient</em>&nbsp;</td><td>array with SurveySessions </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>array with t1 =&gt; session, etc (nonT sessions are postfixed w/ a 1-based count eg nonT3), filtered by type_array, and ordered by session ID (TODO confirm) </dd></dl>

</div>
</div><p>
<a class="anchor" name="a96ef2b0aa709c0e2e46387a6e331f58"></a><!-- doxytag: member="DataExportComponent::getFirstAnswerTsForSession" ref="a96ef2b0aa709c0e2e46387a6e331f58" args="($session, $order= 'ASC')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::getFirstAnswerTsForSession           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>order</em> = <code>'ASC'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
find earliest or latest answer for this session 
</div>
</div><p>
<a class="anchor" name="78997f4d7091371b6611530444e5b2d2"></a><!-- doxytag: member="DataExportComponent::_patient_session_answers" ref="78997f4d7091371b6611530444e5b2d2" args="(&amp;$questions, &amp;$session, $sessionLabel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::_patient_session_answers           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>questions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sessionLabel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
if ($this-&gt;options['row_per_session']){ $answers[] = $session['type']; } 
</div>
</div><p>
<a class="anchor" name="debe21dac8e8d905b71ab57baefe36f9"></a><!-- doxytag: member="DataExportComponent::_patient_session_scores" ref="debe21dac8e8d905b71ab57baefe36f9" args="(&amp;$subscales, $items, &amp;$session, $sessionLabel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataExportComponent::_patient_session_scores           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>subscales</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sessionLabel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
# given subscales, items, patient, and one session, return an array of modified time and scores 
<p>
if ($this-&gt;options['row_per_session']){ $scores[] = $session['type']; } 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>/var/lib/jenkins/jobs/CPRO doc auto-generation - GitHub Repo/workspace/app/Controller/Component/DataExportComponent.php</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Dec 23 10:49:47 2013 for DHAIR2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
