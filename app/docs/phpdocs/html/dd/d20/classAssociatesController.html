<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DHAIR2: AssociatesController Class Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
    <li>
      <form action="../../search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>AssociatesController Class Reference</h1><!-- doxytag: class="AssociatesController" --><!-- doxytag: inherits="AppController" --><div class="dynheader">
Inheritance diagram for AssociatesController:</div>
<div class="dynsection">

<p><center><img src="../../dd/d20/classAssociatesController.png" usemap="#AssociatesController_map" border="0" alt=""></center>
<map name="AssociatesController_map">
</map>
</div>

<p>
<a href="../../db/d3f/classAssociatesController-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6aa6a8e54313d1240a1d4ceb9eca8f40"></a><!-- doxytag: member="AssociatesController::beforeFilter" ref="6aa6a8e54313d1240a1d4ceb9eca8f40" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>beforeFilter</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5f095570f6175065470f658e106d0f0c"></a><!-- doxytag: member="AssociatesController::beforeRender" ref="5f095570f6175065470f658e106d0f0c" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>beforeRender</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="80723a2bbebf3d9789ecca4d1f0e9683"></a><!-- doxytag: member="AssociatesController::delete" ref="80723a2bbebf3d9789ecca4d1f0e9683" args="($p_a_id)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>delete</b> ($p_a_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d8c9673baf984433c47464f9ce59c51f"></a><!-- doxytag: member="AssociatesController::create" ref="d8c9673baf984433c47464f9ce59c51f" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>create</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="02c6f9ebe4c2e275430bb972e2723664"></a><!-- doxytag: member="AssociatesController::edit" ref="02c6f9ebe4c2e275430bb972e2723664" args="($pa_id)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>edit</b> ($pa_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d20/classAssociatesController.html#eb6c69cfae9df7e24df07e1fbd9405b5">edit_list</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2136fb5c0afe841ff7ba097b926e83ac"></a><!-- doxytag: member="AssociatesController::initShareMyReportsTabNav" ref="2136fb5c0afe841ff7ba097b926e83ac" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>initShareMyReportsTabNav</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d20/classAssociatesController.html#b8bf7608b3a69bb3ea35edef7abf8b91">register</a> ($webkey)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cba1b65e2c17837e654ca3b465e94b57"></a><!-- doxytag: member="AssociatesController::registerFinish" ref="cba1b65e2c17837e654ca3b465e94b57" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>registerFinish</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1cbc173a661157a4d5106974fd526288"></a><!-- doxytag: member="AssociatesController::phraseEntry" ref="1cbc173a661157a4d5106974fd526288" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>phraseEntry</b> ()</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d098e21aa9c7b384f823fd390dfd27f6"></a><!-- doxytag: member="AssociatesController::$uses" ref="d098e21aa9c7b384f823fd390dfd27f6" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$uses</b> = array(&quot;Associate&quot;, &quot;<a class="el" href="../../d9/dc0/classUser.html">User</a>&quot;, &quot;<a class="el" href="../../d2/de8/classPatient.html">Patient</a>&quot;, &quot;<a class="el" href="../../de/d63/classPatientAssociate.html">PatientAssociate</a>&quot;, &quot;<a class="el" href="../../dd/d9a/classScale.html">Scale</a>&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="aad7b9b1ef249813d9f3a2520ba4b93d"></a><!-- doxytag: member="AssociatesController::$components" ref="aad7b9b1ef249813d9f3a2520ba4b93d" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$components</b> = array('Password', 'EsracEmail')</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6a54a26ddb721c5e2243a70948f68c3a"></a><!-- doxytag: member="AssociatesController::$helpers" ref="6a54a26ddb721c5e2243a70948f68c3a" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>$helpers</b> = array(&quot;Html&quot;)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Associates controller<p>
Associates have a user account controlling their login, <a class="el" href="../../de/d63/classPatientAssociate.html">PatientAssociate</a> records linking them to patients they have have been authorized to view, and PatientAssociateSubscales determining which data they can view for that patient.<p>
Associates are authenticated in a two-step process: 1. Creating an account to ensure their email address is correct When the associate record is created, we generate a random key which is emailed to them as part of a url to click in order to set up their account. This allows us to look up the appropriate associate record without exposing the associate's email address. 2. Entering a secret phrase to gain acces to a patient's data The patient must set a secret phrase which the associate must enter to gain access to their data. The <a class="el" href="../../de/d63/classPatientAssociate.html">PatientAssociate</a> record is created with its verified field set to false, true indicates that they have entered the secret phrase. None of the patient's data except initials should be displayed until the associate is verified.<p>
Copyright 2013 University of Washington, School of Nursing. <a href="http://opensource.org/licenses/BSD-3-Clause">http://opensource.org/licenses/BSD-3-Clause</a> <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="eb6c69cfae9df7e24df07e1fbd9405b5"></a><!-- doxytag: member="AssociatesController::edit_list" ref="eb6c69cfae9df7e24df07e1fbd9405b5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AssociatesController::edit_list           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used by ParticipantTreatment to mod their list of associates 
</div>
</div><p>
<a class="anchor" name="b8bf7608b3a69bb3ea35edef7abf8b91"></a><!-- doxytag: member="AssociatesController::register" ref="b8bf7608b3a69bb3ea35edef7abf8b91" args="($webkey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AssociatesController::register           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>webkey</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
URL sent to associates points at this actioni Gives the associate the opportunity to: change their loginID (defaults to e-mail address) specify a password If user is alrady registered (), they'll be redirected to their home page. 
<p>
$this-&gt;PatientAssociate-&gt; find('first', array( 'conditions' =&gt; array( 'PatientAssociate.webkey' =&gt; $webkey), 'recursive' =&gt; 1) // didn't retrieve <a class="el" href="../../d9/dc0/classUser.html">User</a> 'recursive' =&gt; 2) // brought in way too much ); 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>/var/lib/jenkins/jobs/CPRO doc auto-generation - GitHub Repo/workspace/app/Controller/AssociatesController.php</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Dec 23 10:49:47 2013 for DHAIR2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
